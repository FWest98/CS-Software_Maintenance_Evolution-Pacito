Pattern changes caused by commit: 7d36c1e025abbcdd4ed50c580bbd990fd262bbed

From: Abstract Factory-1
To:   Abstract Factory-2

From: Factory Method-1
To:   Factory Method-2

From: Decorator-2
To:   Decorator-1

From: Facade-0
To:   Facade-1

From: Flyweight-2
To:   Flyweight-1

From: Mediator-3
To:   Mediator-1

From: Strategy-0
To:   Strategy-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-9147.txt 

commit 7d36c1e025abbcdd4ed50c580bbd990fd262bbed
Author: Jonathan Ellis <jbellis@apache.org>

    Use allocator information to improve memtable memory usage estimate
    patch by jbellis; reviewed by jasobrown for CASSANDRA-5497



==================================
 Issue CASSANDRA-5497 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-5497] Use allocator information to improve memtable memory usage estimate
-----------------

-----------------
Summary: Use allocator information to improve memtable memory usage estimate
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Thu, 18 Apr 2013 18:31:09 +0000
-----------------

-----------------
Resolved at: Fri, 19 Apr 2013 13:46:44 +0000
-----------------

-----------------
Assigned to: Jonathan Ellis
-----------------

-----------------
Description: 

A user reported that Cassandra's estimate of memtable space used was off by a factor of
between 3 and 10 for his counter columnfamilies.

We may or may not be able to fix the
counter estimate (counter merging is a cranky best, and unlike normal merging can involve
allocating new objects), but we can definitely use the SlabAllocator information to cap
the error in our estimate at a fairly low amount.
 

-----------------

-----------------
Comments: 

New Comment: 
attached. 


New Comment: 
v2 attached to track allocations larger than MAX_CLONED_SIZE 


New Comment: 
lgtm. This should bound the estimate reasonably well. EDIT: <a
href="https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbellis"
class="user-hover" rel="jbellis">Jonathan Ellis</a> attached v2 while i was typing. will
review that one now 


New Comment: 
v2 lgtm 



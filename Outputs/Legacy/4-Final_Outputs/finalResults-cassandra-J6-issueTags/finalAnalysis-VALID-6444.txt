Pattern changes caused by commit: ef50e8f12a81986407351f5b7e3125dab2d4ffa1

From: Flyweight-1
To:   Flyweight-3

From: Mediator-1
To:   Mediator-2


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-6444.txt 

commit ef50e8f12a81986407351f5b7e3125dab2d4ffa1
Author: Pavel Yaskevich <xedin@apache.org>

    Respect 1.0 cache settings as much as possible when upgrading
    Patch by Pavel Yaskevich; reviewed by Yuki Morishita for CASSANDRA-4088



==================================
 Issue CASSANDRA-4088 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-4088] Respect 1.0 cache settings as much as possible when upgrading
-----------------

-----------------
Summary: Respect 1.0 cache settings as much as possible when upgrading
-----------------

-----------------
Issue type: Improvement
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Tue, 27 Mar 2012 04:29:01 +0000
-----------------

-----------------
Resolved at: Fri, 30 Mar 2012 20:58:28 +0000
-----------------

-----------------
Assigned to: Pavel Yaskevich
-----------------

-----------------
Description: 

When converting a 1.0 schema to 1.1, we should look at the key and row caches (just
whether they are en- or dis-abled) and set the caching setting accordingly.  I think right
now upgrading means all your row caching is gone until you update it manually.
 

-----------------

-----------------
Comments: 

New Comment: 
+1.I created following tables in 1.0.8:<div class="preformatted panel"
style="border-width: 1px;"><div class="preformattedContent panelContent"><pre>CREATE TABLE
Test1 (key int PRIMARY KEY) WITH row_cache_size = 1 AND key_cache_size = 1;CREATE TABLE
Test2 (key int PRIMARY KEY) WITH row_cache_size = 0 AND key_cache_size = 0;CREATE TABLE
Test3 (key int PRIMARY KEY) WITH row_cache_size = 1;CREATE TABLE Test4 (key int PRIMARY
KEY) WITH key_cache_size = 1;CREATE TABLE Test5 (key int PRIMARY KEY);CREATE TABLE Test6
(key int PRIMARY KEY) WITH row_cache_size = 1 AND key_cache_size = 0;</pre></div></div>and
got following in patched 1.1:<div class="preformatted panel" style="border-width:
1px;"><div class="preformattedContent panelContent"><pre>create column family Test1  ... 
and caching = 'ALL';create column family Test2  ...  and caching = 'NONE';create column
family Test3  ...  and caching = 'ALL';create column family Test4  ...  and caching =
'KEYS_ONLY';create column family Test5  ...  and caching = 'KEYS_ONLY';create column
family Test6  ...  and caching = 'ROWS_ONLY';</pre></div></div> 



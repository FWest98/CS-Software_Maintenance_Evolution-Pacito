Pattern changes caused by commit: f84aed6d44976b1017b5139e151ac1ed701a0ca7

From: Abstract Factory-3
To:   Abstract Factory-2

From: Factory Method-3
To:   Factory Method-2


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-3535.txt 

commit f84aed6d44976b1017b5139e151ac1ed701a0ca7
Author: Brandon Williams <brandonwilliams@apache.org>

    Queue secondary indexes for flush before the parent.
    Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-2330



==================================
 Issue CASSANDRA-2330 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-2330] Queue indexes for flush before the parent
-----------------

-----------------
Summary: Queue indexes for flush before the parent
-----------------

-----------------
Issue type: Improvement
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Tue, 15 Mar 2011 16:45:10 +0000
-----------------

-----------------
Resolved at: Tue, 15 Mar 2011 17:37:08 +0000
-----------------

-----------------
Assigned to: Brandon Williams
-----------------

-----------------
Description: 

Secondary indexes flush when the parent does.  This has an unfortunate side effect: a
single CF flushing with a single secondary index fills the flush queue and blocks further
writes until the first one completes.  A simple but naive optimization here would be to
queue the indexes before the parent since they are generally going to be smaller, and thus
flush faster, reducing the amount of time writes are blocked.
 

-----------------

-----------------
Comments: 

New Comment: 
Patch to concat indexes ahead of the parent.  stress.java blocks for 6s instead of 9, with
an 8G heap. 


New Comment: 
+1 


New Comment: 
Committed 



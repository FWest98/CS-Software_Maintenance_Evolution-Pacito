Pattern changes caused by commit: ab72dc9270bc14235ea81f7fc73da1b780f657e5

From: Mediator-1
To:   Mediator-2


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-4442.txt 

commit ab72dc9270bc14235ea81f7fc73da1b780f657e5
Author: Brandon Williams <brandonwilliams@apache.org>

    Proper function support and key validation for cli deletes.
    Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2821



==================================
 Issue CASSANDRA-2821 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-2821] CLI remove ascii column
-----------------

-----------------
Summary: CLI remove ascii column
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Fri, 24 Jun 2011 14:44:21 +0000
-----------------

-----------------
Resolved at: Fri, 15 Jul 2011 17:34:02 +0000
-----------------

-----------------
Assigned to: Pavel Yaskevich
-----------------

-----------------
Description: 

<span class="error">&#91;default@sdo&#93;</span> incr counters<span
class="error">&#91;ascii(&#39;EU&#39;)&#93;</span><span
class="error">&#91;ascii(&#39;null&#39;)&#93;</span>;<br/>Value incremented.<br/><span
class="error">&#91;default@sdo&#93;</span> list counters;<br/>Using default limit of
100<br/>-------------------<br/>RowKey: 4555<br/>=&gt; (counter=6e756c6c, value=1)

1 Row
Returned.<br/><span class="error">&#91;default@sdo&#93;</span> del counters<span
class="error">&#91;ascii(&#39;EU&#39;)&#93;</span><span
class="error">&#91;ascii(&#39;null&#39;)&#93;</span>;<br/>org.apache.cassandra.db.marshal.MarshalException:
cannot parse<br/>'FUNCTION_CALL' as hex bytes<br/><span
class="error">&#91;default@sdo&#93;</span>

Suggested workaround, although not
tested:

assume counters comparator as bytes;<br/>del counters<span
class="error">&#91;&#39;EU&#39;&#93;</span><span class="error">&#91;0&#93;</span>;
 

-----------------

-----------------
Comments: 

New Comment: 
Edit to clarify there is nothing magic about string 'null'.Probably affects 0.7 too? 


New Comment: 
Proper function support and key validation (0.8 only) for DEL command.Both rebased with
latest versions of their branches. 


New Comment: 
Committed. 


New Comment: 
Integrated in Cassandra-0.7 #529 (See <a
href="https://builds.apache.org/job/Cassandra-0.7/529/" class="external-link"
rel="nofollow">https://builds.apache.org/job/Cassandra-0.7/529/</a>)<br/>    Fix column
deletion in the cli.<br/>Patch by Pavel Yaskevich, reviewed by brandonwilliams for <a
href="https://issues.apache.org/jira/browse/CASSANDRA-2821" title="CLI remove ascii
column" class="issue-link"
data-issue-key="CASSANDRA-2821"><del>CASSANDRA-2821</del></a>brandonwilliams : <a
href="http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1147258"
class="external-link"
rel="nofollow">http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1147258</a><br/>Files
:
<ul>	<li>/cassandra/branches/cassandra-0.7/src/java/org/apache/cassandra/cli/CliClient.java</li>	<li>/cassandra/branches/cassandra-0.7/test/unit/org/apache/cassandra/cli/CliTest.java</li></ul> 



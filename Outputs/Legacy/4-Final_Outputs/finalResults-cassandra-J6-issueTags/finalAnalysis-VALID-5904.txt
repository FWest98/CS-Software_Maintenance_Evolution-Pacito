Pattern changes caused by commit: 6173fa9e3443909474e14f5695e705df5b10dbcc

From: Decorator-0
To:   Decorator-1

From: Flyweight-5
To:   Flyweight-4

From: Strategy-0
To:   Strategy-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-5904.txt 

commit 6173fa9e3443909474e14f5695e705df5b10dbcc
Author: Pavel Yaskevich <xedin@apache.org>

    (Pig) fix CassandraStorage to use correct comparator in Super ColumnFamily case
    patch by Pavel Yaskevich; reviewed by Brandon Williams for CASSANDRA-3251



==================================
 Issue CASSANDRA-3251 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-3251] CassandraStorage uses comparator for both super column names and sub column names.
-----------------

-----------------
Summary: CassandraStorage uses comparator for both super column names and sub column names.
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Fri, 23 Sep 2011 16:18:07 +0000
-----------------

-----------------
Resolved at: Tue, 31 Jan 2012 21:42:10 +0000
-----------------

-----------------
Assigned to: Pavel Yaskevich
-----------------

-----------------
Description: 

The CassandraStorage class uses the same comparator for super and sub column names.

This
is because it calls columnsToTuple recursively without any indication that the subsequent
call is for sub columns.  Also, the getDefaultMarshallers method does not return the sub
column name comparator.
 

-----------------

-----------------
Comments: 

New Comment: 
This is a small fix for the super column issues. 


New Comment: 
Dana, can you rebase?  I can't get this to apply. 


New Comment: 
v2 with a slightly different approach. 


New Comment: 
isSub = 2 lead to key_validator, it should be changed to 3. Wouldn't it be a good idea to
set 'AbstractType comparator' instead of 'boolean isSub' in columnToTuple(...)? 


New Comment: 
v3 with implements proposed parameter change to AbstractType comparator and removes
unnecessary 'ByteBuffer name' parameter. 


New Comment: 
+1 



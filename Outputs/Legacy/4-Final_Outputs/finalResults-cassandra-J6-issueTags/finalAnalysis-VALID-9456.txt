Pattern changes caused by commit: 843dc796ea5e80b003f6429a329ec04a9f1bfff4

From: Strategy-1
To:   Strategy-0


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-9456.txt 

commit 843dc796ea5e80b003f6429a329ec04a9f1bfff4
Author: Brandon Williams <brandonwilliams@apache.org>

    Add get commands for compaction/streaming throughput to nodetool.
    Patch by Michal Michalski, reviewed by brandonwilliams for
    CASSANDRA-5588



==================================
 Issue CASSANDRA-5588 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-5588] Add get commands to nodetool for things with set
-----------------

-----------------
Summary: Add get commands to nodetool for things with set
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Wed, 22 May 2013 21:14:07 +0000
-----------------

-----------------
Resolved at: Tue, 28 May 2013 18:55:15 +0000
-----------------

-----------------
Assigned to: Micha≈Ç Michalski
-----------------

-----------------
Description: 

Can we add:<br/>nodetool getcompactionthroughput<br/>nodetool getstreamthroughput

To go
with the set commands?  You currently have to fire up a JMX client to know what the
current values are.
 

-----------------

-----------------
Comments: 

New Comment: 
My first thought - do we really need a separate commands for both of them? Maybe we could
include it in nodetool info's output, like it's done for cache? 


New Comment: 
That's not a bad idea, but we actually already have getcompactionthroughput, so simply
adding getstreamthroughput would be most consistent. 


New Comment: 
Yes, but please note that getcompactionthreshold (I guess you meant it) is called with two
additional params (KS and CF), so it wouldn't make sense to mix with node-wide "info"
command. <br/>Anyway, I'm fine with both options, so I'll do it as stated in description
if you prefer so <img class="emoticon"
src="https://issues.apache.org/jira/images/icons/emoticons/smile.png" height="16"
width="16" align="absmiddle" alt="" border="0"/> 


New Comment: 
We don't have getcompactionthroughput, we have getcompactionthreshold.We do have a call to
getCompactionThroughput from the time estimation code, but the getcompactionthroughput
command is not exposed to the end user.Putting them in info works for me, we already have
the global cache stuff there. 


New Comment: 
It wasn't too much work to do both, so I'm attaching two patches - pick whatever you like
<img class="emoticon" src="https://issues.apache.org/jira/images/icons/emoticons/wink.png"
height="16" width="16" align="absmiddle" alt="" border="0"/>Both patches do one more
change for consistency's sake - move getCompactionThreshold() from NodeProbe to NodeCmd
and rename it to printCompactionThreshold(), so almost all the printing (does not apply to
RepairRunner) is done in NodeCmd. 


New Comment: 
Can you rebase new-commands-v1 against the 1.2 branch?  I think I like that one better at
this point, since anytime someone sees a set&lt;something&gt; they're going to be
expecting a get&lt;something&gt; and it more closely matches the underlying JMX model. 


New Comment: 
Sure <img class="emoticon"
src="https://issues.apache.org/jira/images/icons/emoticons/smile.png" height="16"
width="16" align="absmiddle" alt="" border="0"/> Attaching v2 rebased onto
67e57a974f7fe5f7b950fa370b665ba828f6e5e1. 



Pattern changes caused by commit: 6dc75ce2f3305d9568f9a7e7078bd87c04009218

From: Abstract Factory-3
To:   Abstract Factory-2

From: Factory Method-3
To:   Factory Method-2

From: Mediator-2
To:   Mediator-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-3857.txt 

commit 6dc75ce2f3305d9568f9a7e7078bd87c04009218
Author: Sylvain Lebresne <slebresne@apache.org>

    Fix updating column metadata validation class
    patch by jbellis; reviewed by slebresne for CASSANDRA-2512



==================================
 Issue CASSANDRA-2512 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-2512] Updating a column's validation class from AsciiType to UTF8Type does not actually work
-----------------

-----------------
Summary: Updating a column's validation class from AsciiType to UTF8Type does not actually work
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Tue, 19 Apr 2011 21:59:05 +0000
-----------------

-----------------
Resolved at: Thu, 21 Apr 2011 13:29:41 +0000
-----------------

-----------------
Assigned to: Jonathan Ellis
-----------------

-----------------
Description: 

Please note this is reproducible on both Cassandra 0.74 and the April 18th trunk
build.

<b>Reproduction Steps</b>
<div class="code panel" style="border-width: 1px;"><div
class="codeContent panelContent"><pre class="code-java">create column family users with
comparator = UTF8Typeand column_metadata = [{column_name: password, validation_class:
UTF8Type},{column_name: gender, validation_class: AsciiType}];update column family users
with comparator = UTF8Typeand column_metadata = [{column_name: password, validation_class:
UTF8Type}{column_name: gender, validation_class: UTF8Type}];</pre></div></div>
<b>Before
&amp; After quitting cassandra-cli:  Notice the validation class for the gender client
still shows AsciiType</b>
<div class="code panel" style="border-width: 1px;"><div
class="codeContent panelContent"><pre class="code-java">[<span
class="code-keyword">default</span>@demo] describe keyspace demo;Keyspace: demo: 
Replication Strategy: org.apache.cassandra.locator.NetworkTopologyStrategy    Options:
[datacenter1:1]  Column Families:    ColumnFamily: users      Key Validation <span
class="code-object">Class</span>: org.apache.cassandra.db.marshal.BytesType      Default
column value validator: org.apache.cassandra.db.marshal.BytesType      Columns sorted by:
org.apache.cassandra.db.marshal.UTF8Type      Row cache size / save period in seconds:
0.0/0      Key cache size / save period in seconds: 200000.0/14400      Memtable
thresholds: 0.29062499999999997/62/1440 (millions of ops/MB/minutes)      GC grace
seconds: 864000      Compaction min/max thresholds: 4/32      Read repair chance: 1.0     
Replicate on write: <span class="code-keyword">false</span>      Built indexes: []     
Column Metadata:        Column Name: gender          Validation <span
class="code-object">Class</span>: org.apache.cassandra.db.marshal.AsciiType        Column
Name: password          Validation <span class="code-object">Class</span>:
org.apache.cassandra.db.marshal.UTF8Type</pre></div></div> 

-----------------

-----------------
Comments: 

New Comment: 
patch fixes CFMetaData.apply to include validation class. 


New Comment: 
+1<br/>Committed. 


New Comment: 
Integrated in Cassandra-0.7 #452 (See <a
href="https://builds.apache.org/hudson/job/Cassandra-0.7/452/" class="external-link"
rel="nofollow">https://builds.apache.org/hudson/job/Cassandra-0.7/452/</a>)<br/>    Fix
updating column metadata validation class<br/>patch by jbellis; reviewed by slebresne for
<a href="https://issues.apache.org/jira/browse/CASSANDRA-2512" title="Updating a
column&#39;s validation class from AsciiType to UTF8Type does not actually work"
class="issue-link" data-issue-key="CASSANDRA-2512"><del>CASSANDRA-2512</del></a> 


New Comment: 
Integrated in Cassandra #861 (See <a
href="https://builds.apache.org/hudson/job/Cassandra/861/" class="external-link"
rel="nofollow">https://builds.apache.org/hudson/job/Cassandra/861/</a>)<br/>    merge <a
href="https://issues.apache.org/jira/browse/CASSANDRA-2512" title="Updating a column&#39;s
validation class from AsciiType to UTF8Type does not actually work" class="issue-link"
data-issue-key="CASSANDRA-2512"><del>CASSANDRA-2512</del></a> from 0.8 


New Comment: 
Integrated in Cassandra-0.8 #31 (See <a
href="https://builds.apache.org/hudson/job/Cassandra-0.8/31/" class="external-link"
rel="nofollow">https://builds.apache.org/hudson/job/Cassandra-0.8/31/</a>)<br/>    merge
<a href="https://issues.apache.org/jira/browse/CASSANDRA-2512" title="Updating a
column&#39;s validation class from AsciiType to UTF8Type does not actually work"
class="issue-link" data-issue-key="CASSANDRA-2512"><del>CASSANDRA-2512</del></a> from 0.7 



Pattern changes caused by commit: 57556bb60c825d27031e01eafa7165012bb3ee65

From: Facade-3
To:   Facade-5

From: Proxy-0
To:   Proxy-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-1705.txt 

commit 57556bb60c825d27031e01eafa7165012bb3ee65
Author: Emmanuel Lecharny <elecharny@apache.org>

    Applied patch from Justin Mason for DIRMINA-713



==================================
 Issue DIRMINA-713 Description 
=======================================

Project: MINA
-----------------

-----------------
Title: [DIRMINA-713] IoBufferHexDumper.getHexdump() over-allocates memory
-----------------

-----------------
Summary: IoBufferHexDumper.getHexdump() over-allocates memory
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Closed
-----------------

-----------------
Created at: Wed, 20 May 2009 14:38:20 +0000
-----------------

-----------------
Resolved at: Wed, 20 May 2009 21:05:03 +0000
-----------------

-----------------
Assigned to: Emmanuel LÃ©charny
-----------------

-----------------
Description: 

hey folks.  in
IoBufferHexDumper.getHexdump(), we see
this:
<div class="code panel"
style="border-width: 1px;"><div
class="codeContent panelContent"><pre
class="code-java">        <span
class="code-object">boolean</span>
truncate = in.remaining() &gt;
lengthLimit;        <span
class="code-object">int</span> size;    
   <span class="code-keyword">if</span>
(truncate) {            size =
lengthLimit;        } <span
class="code-keyword">else</span> {      
     size = in.remaining();        }    
   <span class="code-keyword">if</span>
(size == 0) {            <span
class="code-keyword">return</span> <span
class="code-quote">"empty"</span>;      
 }        StringBuilder out = <span
class="code-keyword">new</span>
StringBuilder(in.remaining() * 3 -
1);</pre></div></div>
note that the
allocation uses in.remaining(), even
though it'll only<br/>insert the number
of items indicated by "size".  If the
buffer is <br/>particularly large, this
is unnecessary and wasteful of memory.
 

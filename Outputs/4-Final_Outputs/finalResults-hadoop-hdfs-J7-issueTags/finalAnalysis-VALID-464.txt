Pattern changes caused by commit: 51bda0a0a6a3795915a989f0d4350abd9ec48cc6

From: Mediator-1
To:   Mediator-0


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-464.txt 

commit 51bda0a0a6a3795915a989f0d4350abd9ec48cc6
Author: Hairong Kuang <hairong@apache.org>

    HDFS-1089. Remove uses of FileContext#isFile, isDirectory and exists. Contributed by Eli Collins.



==================================
 Issue HDFS-1089 Description 
=======================================

Project: Hadoop HDFS
-----------------

-----------------
Title: [HDFS-1089] Remove uses of FileContext#isFile, isDirectory and exists
-----------------

-----------------
Summary: Remove uses of FileContext#isFile, isDirectory and exists
-----------------

-----------------
Issue type: Improvement
-----------------

-----------------
Current status: Closed
-----------------

-----------------
Created at: Thu, 8 Apr 2010 03:56:05 +0000
-----------------

-----------------
Resolved at: Fri, 30 Apr 2010 20:32:10 +0000
-----------------

-----------------
Assigned to: Eli Collins
-----------------

-----------------
Description: 

Here's an HDFS jira for the second part of <a
href="https://issues.apache.org/jira/browse/HADOOP-6678" title="Remove FileContext#isFile,
isDirectory and exists" class="issue-link"
data-issue-key="HADOOP-6678"><del>HADOOP-6678</del></a>: removing uses of
FileContext#isFile, isDirectory and exists.
 

-----------------

-----------------
Comments: 

New Comment: 
Trivial patch, depends on the new <tt>exists</tt> method in FileContextTestHelper. 


New Comment: 
-1 overall.  Here are the results of testing the latest attachment <br/>  <a
href="http://issues.apache.org/jira/secure/attachment/12441110/hdfs-1089-1.patch"
class="external-link"
rel="nofollow">http://issues.apache.org/jira/secure/attachment/12441110/hdfs-1089-1.patch</a><br/>
 against trunk revision 931675.    +1 @author.  The patch does not contain any @author
tags.    +1 tests included.  The patch appears to include 3 new or modified tests.    +1
javadoc.  The javadoc tool did not generate any warning messages.    -1 javac.  The patch
appears to cause tar ant target to fail.    +1 findbugs.  The patch does not introduce any
new Findbugs warnings.    +1 release audit.  The applied patch does not increase the total
number of release audit warnings.    -1 core tests.  The patch failed core unit tests.   
-1 contrib tests.  The patch failed contrib unit tests.Test results: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/testReport/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/testReport/</a><br/>Findbugs
warnings: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html</a><br/>Checkstyle
results: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/artifact/trunk/build/test/checkstyle-errors.html"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/artifact/trunk/build/test/checkstyle-errors.html</a><br/>Console
output: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/console"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/151/console</a>This
message is automatically generated. 


New Comment: 
we should probably try to fix this before the new 0.21 release? 


New Comment: 
Agreed, this jira, <a href="https://issues.apache.org/jira/browse/HADOOP-6678"
title="Remove FileContext#isFile, isDirectory and exists" class="issue-link"
data-issue-key="HADOOP-6678"><del>HADOOP-6678</del></a>, <a
href="https://issues.apache.org/jira/browse/HADOOP-6692" title="Add FileContext#listStatus
that returns an iterator" class="issue-link"
data-issue-key="HADOOP-6692"><del>HADOOP-6692</del></a>, and <a
href="https://issues.apache.org/jira/browse/HADOOP-6678" title="Remove FileContext#isFile,
isDirectory and exists" class="issue-link"
data-issue-key="HADOOP-6678"><del>HADOOP-6678</del></a> (and it's associated hdfs and mr
jiras) since they remove methods from the FileContext API. Hoping these all get reviewed
and checked in before Tom pulls trunk into the branch. 


New Comment: 
Submitting to hudson now that <a href="https://issues.apache.org/jira/browse/HADOOP-6678"
title="Remove FileContext#isFile, isDirectory and exists" class="issue-link"
data-issue-key="HADOOP-6678"><del>HADOOP-6678</del></a> is in. 


New Comment: 
-1 overall.  Here are the results of testing the latest attachment <br/>  <a
href="http://issues.apache.org/jira/secure/attachment/12441110/hdfs-1089-1.patch"
class="external-link"
rel="nofollow">http://issues.apache.org/jira/secure/attachment/12441110/hdfs-1089-1.patch</a><br/>
 against trunk revision 939091.    +1 @author.  The patch does not contain any @author
tags.    +1 tests included.  The patch appears to include 3 new or modified tests.    +1
javadoc.  The javadoc tool did not generate any warning messages.    -1 javac.  The patch
appears to cause tar ant target to fail.    +1 findbugs.  The patch does not introduce any
new Findbugs warnings.    +1 release audit.  The applied patch does not increase the total
number of release audit warnings.    -1 core tests.  The patch failed core unit tests.   
-1 contrib tests.  The patch failed contrib unit tests.Test results: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/testReport/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/testReport/</a><br/>Findbugs
warnings: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html</a><br/>Checkstyle
results: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/artifact/trunk/build/test/checkstyle-errors.html"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/artifact/trunk/build/test/checkstyle-errors.html</a><br/>Console
output: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/console"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/166/console</a>This
message is automatically generated. 


New Comment: 
Kick hudson. <a href="https://issues.apache.org/jira/browse/HADOOP-6678" title="Remove
FileContext#isFile, isDirectory and exists" class="issue-link"
data-issue-key="HADOOP-6678"><del>HADOOP-6678</del></a> should have made it into the
common jar by now. 


New Comment: 
+1 Now that <a href="https://issues.apache.org/jira/browse/HADOOP-6678" title="Remove
FileContext#isFile, isDirectory and exists" class="issue-link"
data-issue-key="HADOOP-6678"><del>HADOOP-6678</del></a> made it to HDFS, let me commit
this patch. 


New Comment: 
I've just committed this. Thanks Eli! 


New Comment: 
Looks like there is more use cases in FI that need to be fixed.<br/>ant target
compile-fault-injection fails with java errors.<br/>I am reopening this. 


New Comment: 
Sorry that I missed the fault injection tests. I reverted the patch. 


New Comment: 
Patch attached. ant run-test-hdfs-fault-inject compiles and is running now. 


New Comment: 
+1. I ran both ant run-test-hdfs-fault-injection and ant run-commit-test. Both were
passed. 



Pattern changes caused by commit: 5efdad2e8f74cd06e520bdbe094c81e3d99a0e67

From: Mediator-0
To:   Mediator-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-354.txt 

commit 5efdad2e8f74cd06e520bdbe094c81e3d99a0e67
Author: Tsz-wo Sze <szetszwo@apache.org>

    HDFS-187. Initialize secondary namenode http address in TestStartup.  Contributed by Todd Lipcon



==================================
 Issue HDFS-187 Description 
=======================================

Project: Hadoop HDFS
-----------------

-----------------
Title: [HDFS-187] TestStartup fails if hdfs is running in the same machine
-----------------

-----------------
Summary: TestStartup fails if hdfs is running in the same machine
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Closed
-----------------

-----------------
Created at: Sat, 3 Jan 2009 00:04:25 +0000
-----------------

-----------------
Resolved at: Thu, 14 Jan 2010 23:46:38 +0000
-----------------

-----------------
Assigned to: Todd Lipcon
-----------------

-----------------
Description: 

Reproduce this:
<ul class="alternate" type="square">	<li>./bin/start-dfs</li>	<li>ant
test-core -Dtestcase=TestStartup<br/>The test may fail.</li></ul> 

-----------------

-----------------
Comments: 

New Comment: 
It seems that TestStartup is talking to the running hdfs through servlets.  It may fail in
different ways.  I guess the failure depends on the status of the hdfs. 


New Comment: 
This is still the case in trunk, and can also cause spurious test failures when a build
machine is shared. 


New Comment: 
Trivial patch fixes the issue 


New Comment: 
+1 overall.  Here are the results of testing the latest attachment <br/>  <a
href="http://issues.apache.org/jira/secure/attachment/12429594/hdfs-187.txt"
class="external-link"
rel="nofollow">http://issues.apache.org/jira/secure/attachment/12429594/hdfs-187.txt</a><br/>
 against trunk revision 895877.    +1 @author.  The patch does not contain any @author
tags.    +1 tests included.  The patch appears to include 3 new or modified tests.    +1
javadoc.  The javadoc tool did not generate any warning messages.    +1 javac.  The
applied patch does not increase the total number of javac compiler warnings.    +1
findbugs.  The patch does not introduce any new Findbugs warnings.    +1 release audit. 
The applied patch does not increase the total number of release audit warnings.    +1 core
tests.  The patch passed core unit tests.    +1 contrib tests.  The patch passed contrib
unit tests.Test results: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/testReport/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/testReport/</a><br/>Findbugs
warnings: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html</a><br/>Checkstyle
results: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/artifact/trunk/build/test/checkstyle-errors.html"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/artifact/trunk/build/test/checkstyle-errors.html</a><br/>Console
output: <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/console"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/171/console</a>This
message is automatically generated. 


New Comment: 
+1 patch looks good.I tested manually and it worked. 


New Comment: 
I have committed this.  Thanks, Todd! 


New Comment: 
Integrated in Hadoop-Hdfs-trunk-Commit #160 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/160/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/160/</a>)<br/>
   . Initialize secondary namenode http address in TestStartup.  Contributed by Todd
Lipcon 


New Comment: 
Integrated in Hdfs-Patch-h5.grid.sp2.yahoo.net #172 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/172/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h5.grid.sp2.yahoo.net/172/</a>)<br/>
   . Initialize secondary namenode http address in TestStartup.  Contributed by Todd
Lipcon 


New Comment: 
Integrated in Hadoop-Hdfs-trunk #195 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/195/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/195/</a>) 


New Comment: 
Integrated in Hdfs-Patch-h2.grid.sp2.yahoo.net #94 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/94/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/94/</a>) 


New Comment: 
Hi Nicholas. I think this should be committed to branch-0.21 and branch-0.20 as well. The
trunk patch applies correctly on 0.21. Attaching a patch for 0.20 which is only trivially
different (and tested on a machine that previously exhibited this issue) 


New Comment: 
&gt; Hi Nicholas. I think this should be committed to branch-0.21 and branch-0.20 as well.
...<br/>Sure.Reopen for committing it to 0.20 and 0.21. 


New Comment: 
Integrated in Hadoop-Hdfs-trunk-Commit #170 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/170/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk-Commit/170/</a>)<br/>
   Move  from trunk to 0.20 in CHANGES.txt. 


New Comment: 
I have committed this also to 0.20 and 0.21. 


New Comment: 
Integrated in Hadoop-Hdfs-trunk #202 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/202/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hadoop-Hdfs-trunk/202/</a>) 


New Comment: 
Integrated in Hdfs-Patch-h2.grid.sp2.yahoo.net #99 (See <a
href="http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/99/"
class="external-link"
rel="nofollow">http://hudson.zones.apache.org/hudson/job/Hdfs-Patch-h2.grid.sp2.yahoo.net/99/</a>) 



Pattern changes caused by commit: 1772b1c2ecea1f2a167aef2c572d5543cd3ea4a0

From: Abstract Factory-1
To:   Abstract Factory-2

From: Factory Method-1
To:   Factory Method-2


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-8333.txt 

commit 1772b1c2ecea1f2a167aef2c572d5543cd3ea4a0
Author: Aleksey Yeschenko <aleksey@apache.org>

    fix default bloom_filter_fp_chance for LeveledCompactionStrategy;
    patch by Aleksey Yeschenko, reviewed by Jonathan Ellis for
    CASSANDRA-5093



==================================
 Issue CASSANDRA-5093 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-5093] Wrong bloom_filter_fp_chance for newly created CFs with LeveledCompactionStrategy
-----------------

-----------------
Summary: Wrong bloom_filter_fp_chance for newly created CFs with LeveledCompactionStrategy
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Thu, 27 Dec 2012 23:58:37 +0000
-----------------

-----------------
Resolved at: Fri, 28 Dec 2012 15:38:15 +0000
-----------------

-----------------
Assigned to: Aleksey Yeschenko
-----------------

-----------------
Description: 

0.1 is supposed to be the default bloom_filter_fp_chance for LeveledCompactionStrategy
(and 0.01 for all other strategies).<br/>However, CFPropDefs#applyToCFMetadata() sets
bloom_filter_fp_chance before setting compaction strategy class, so the default
bloom_filter_fp_chance is always 0.01 no matter what the compaction strategy is.

The fix
is to move cfm#bloomFilterFpChance() call below cfm#compressionParameters().

The attached
patch also kills dead default consistency level-related code.
 

-----------------

-----------------
Comments: 

New Comment: 
+1 



Pattern changes caused by commit: 67dec69f53d2bfd3818fea4ede40e5d5a6b2356b

From: Decorator-2
To:   Decorator-1

From: Flyweight-2
To:   Flyweight-1

From: Mediator-3
To:   Mediator-1

From: Strategy-0
To:   Strategy-1

From: Template Method-3
To:   Template Method-2


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-7078.txt 

commit 67dec69f53d2bfd3818fea4ede40e5d5a6b2356b
Author: Jonathan Ellis <jbellis@apache.org>

    use data size ratio in liveRatio instead of live size : serialized throughput
    patch by jbellis; reviewed by slebresne for CASSANDRA-4399



==================================
 Issue CASSANDRA-4399 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-4399] use data size ratio in liveRatio instead of live size : serialized throughput
-----------------

-----------------
Summary: use data size ratio in liveRatio instead of live size : serialized throughput
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Sun, 1 Jul 2012 06:59:14 +0000
-----------------

-----------------
Resolved at: Wed, 4 Jul 2012 09:49:39 +0000
-----------------

-----------------
Assigned to: Jonathan Ellis
-----------------

-----------------
Description: 
 

-----------------

-----------------
Comments: 

New Comment: 
patch attached.  primarily this means that overwritten columns no longer artificially
inflate liveRatio. 


New Comment: 
We'll need to reinitialize sizeDelta to 0 in the do-loop in
AtomicSortedColumns.addAllColumns otherwise we'll report buggy numbers when there is
contention.Otherwise lgtm, except maybe that we might want to add in the comment on
ISortedColumns.addAll() that the returned long is a delta and is not always defined
correctly (I am not a fan  how having the return value not always be a valid value but I
guess it might a necessary evil for performance). 


New Comment: 
Patch to split out addAllWithSizeDelta to make it clear when we try to do an unsupported
operation. 



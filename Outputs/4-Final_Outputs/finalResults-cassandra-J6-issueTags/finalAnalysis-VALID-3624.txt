Pattern changes caused by commit: 37d063ee97e9521d3fb84d1427f3ef4adc0939b9

From: Abstract Factory-3
To:   Abstract Factory-2

From: Factory Method-3
To:   Factory Method-2


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-3624.txt 

commit 37d063ee97e9521d3fb84d1427f3ef4adc0939b9
Author: Jonathan Ellis <jbellis@apache.org>

    fsync statistics component on write
    patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2382



==================================
 Issue CASSANDRA-2382 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-2382] statistics component not fsynced
-----------------

-----------------
Summary: statistics component not fsynced
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Fri, 25 Mar 2011 03:28:35 +0000
-----------------

-----------------
Resolved at: Thu, 7 Apr 2011 15:36:50 +0000
-----------------

-----------------
Assigned to: Jonathan Ellis
-----------------

-----------------
Description: 

The statistics file is prone to getting lost during a hard reset since it is not fsynced
like the other sstable components.
 

-----------------

-----------------
Comments: 

New Comment: 
Patch switches to BRAF (which fsyncs on close) and also enables fadvise to avoid caching
the written stats. 


New Comment: 
+1 


New Comment: 
Not sure what to do about CompactSerializerTest &#8211; it doesn't seem to know about
ICompactSerializer2.  (I'm kind of surprised we still have so many old-style
serializers...) 


New Comment: 
We should probably get rid of one of them if we can, I've never really understood why
there are two. 


New Comment: 
Some serializers did (do?) depend on Stream-specific methods.  Those may be gone now, it's
been a while since I checked. 


New Comment: 
<blockquote>Not sure what to do about CompactSerializerTest</blockquote>Gary says the
point of CST was to test message serialization rather than on disk and EHS got lumped in
because it was using ICS instead of ISC2 like the other disk serializers (ColumnFamily and
childeren).  So removing it from the CST list is the right fix here.committed w/ that
change. 



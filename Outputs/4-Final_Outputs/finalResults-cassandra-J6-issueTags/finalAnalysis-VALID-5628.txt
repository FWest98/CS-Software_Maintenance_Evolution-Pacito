Pattern changes caused by commit: a7d0cdef578aabf18fca804343400e6fa03b5fd0

From: Decorator-1
To:   Decorator-0

From: Facade-1
To:   Facade-0

From: Flyweight-4
To:   Flyweight-5

From: Strategy-1
To:   Strategy-0


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-5628.txt 

commit a7d0cdef578aabf18fca804343400e6fa03b5fd0
Author: Jonathan Ellis <jbellis@apache.org>

    range and index scans now only send requests to enough replicas to satisfy requested CL + RR
    patch by Vijay and jbellis for CASSANDRA-3598



==================================
 Issue CASSANDRA-3598 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-3598] Index Scan's will span across multiple DC's
-----------------

-----------------
Summary: Index Scan's will span across multiple DC's
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Thu, 8 Dec 2011 22:47:46 +0000
-----------------

-----------------
Resolved at: Fri, 9 Dec 2011 18:02:14 +0000
-----------------

-----------------
Assigned to: Vijay
-----------------

-----------------
Description: 

Looks like we send requests to all the nodes provided by
StorageService.instance.getLiveNaturalEndpoints(keyspace, range.right);<br/>We dont filter
it based on blockedFor (Consistency levels).

In a multi DC setup this will cause
unnecessary load on the other DC. And even within a DC we might query more nodes than
needed.
 

-----------------

-----------------
Comments: 

New Comment: 
one line change fot this ticket. 


New Comment: 
Also fixed range scans similarly.  Note that neither will have any effect unless
read_repair_chance &lt; 1. 


New Comment: 
Thanks! and we do... 


New Comment: 
(Checked 0.7 branch to follow up &#8211; I fixed this there back in March, but screwed up
the merge forward.) 



Pattern changes caused by commit: 3e27a320b41179e9b14c006271827fb79ca5c229

From: Abstract Factory-1
To:   Abstract Factory-2

From: Factory Method-1
To:   Factory Method-2

From: Decorator-2
To:   Decorator-1

From: Facade-0
To:   Facade-1

From: Flyweight-2
To:   Flyweight-1

From: Mediator-3
To:   Mediator-1

From: Strategy-0
To:   Strategy-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-8246.txt 

commit 3e27a320b41179e9b14c006271827fb79ca5c229
Author: Jonathan Ellis <jbellis@apache.org>

    fix temporarily missing schema after upgrade from pre-1.1.5
    patch by Marcus Eriksson; reviewed by jbellis for CASSANDRA-5061



==================================
 Issue CASSANDRA-5061 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-5061] Upgraded cassandra loses all cfs on restart
-----------------

-----------------
Summary: Upgraded cassandra loses all cfs on restart
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Thu, 13 Dec 2012 14:02:49 +0000
-----------------

-----------------
Resolved at: Thu, 13 Dec 2012 16:53:32 +0000
-----------------

-----------------
Assigned to: Marcus Eriksson
-----------------

-----------------
Description: 

A bit dramatic summary, but hey;

If you upgrade cassandra and then restart it, you lose
all your CFs, but they come back if you restart again.

This is due to
fixSchemaNanoTimestamp not flushing the new data after truncating the CF and re-doing the
mutations.
 

-----------------

-----------------
Comments: 

New Comment: 
ah! it comes back due to the commitlog being replayed after reading up the schema 



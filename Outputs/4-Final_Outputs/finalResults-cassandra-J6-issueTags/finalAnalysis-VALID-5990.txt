Pattern changes caused by commit: 22b8a9725b384c0fbee9356ef15e0728bbfd2a58

From: Abstract Factory-3
To:   Abstract Factory-2

From: Factory Method-3
To:   Factory Method-2

From: Facade-1
To:   Facade-0

From: Flyweight-3
To:   Flyweight-4


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-5990.txt 

commit 22b8a9725b384c0fbee9356ef15e0728bbfd2a58
Author: Jonathan Ellis <jbellis@apache.org>

    change snapshot-before-compaction to only snapshot (w/o flush) CFS being compacted
    patch by jbellis; reviewed by slebresne for CASSANDRA-3803



==================================
 Issue CASSANDRA-3803 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-3803] snapshot-before-compaction snapshots entire keyspace
-----------------

-----------------
Summary: snapshot-before-compaction snapshots entire keyspace
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Fri, 27 Jan 2012 22:04:26 +0000
-----------------

-----------------
Resolved at: Thu, 9 Feb 2012 03:56:46 +0000
-----------------

-----------------
Assigned to: Jonathan Ellis
-----------------

-----------------
Description: 

Should only snapshot the CF being compacted
 

-----------------

-----------------
Comments: 

New Comment: 
I can't think of a good reason to snapshot the entire keyspace, and doing so can
dramatically increase the space needed to enable snapshot_before_compaction. 


New Comment: 
I think the attached patch is the wrong one. 


New Comment: 
2nd try. Also switches to snapshot-without-flush. 


New Comment: 
+1, but I would actually suggest pushing this in 1.0.8. The fact we were flushing all CFs
on each compaction is pretty bad (not sure anyone actually uses snapshot-before-compaction
but still). 


New Comment: 
As a side not, a nice alternative would be to snapshot only the files we're going to
compact. But again, we probably don't care about that feature that much. 



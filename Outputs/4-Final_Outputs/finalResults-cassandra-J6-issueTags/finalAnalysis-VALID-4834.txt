Pattern changes caused by commit: 31358f11583ed799f71b5f47e147f518431f62a2

From: Decorator-1
To:   Decorator-0

From: Flyweight-4
To:   Flyweight-5

From: Strategy-1
To:   Strategy-0


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-4834.txt 

commit 31358f11583ed799f71b5f47e147f518431f62a2
Author: Jonathan Ellis <jbellis@apache.org>

    Improve caching of same-version Messages on digest and repair paths
    patch by jbellis; reviewed by slebresne for CASSANDRA-3158



==================================
 Issue CASSANDRA-3158 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-3158] Improve caching of same-version Messages on digest and repair paths
-----------------

-----------------
Summary: Improve caching of same-version Messages on digest and repair paths
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Thu, 8 Sep 2011 14:03:05 +0000
-----------------

-----------------
Resolved at: Thu, 8 Sep 2011 16:04:44 +0000
-----------------

-----------------
Assigned to: Jonathan Ellis
-----------------

-----------------
Description: 
 

-----------------

-----------------
Comments: 

New Comment: 
v2 also lazy-initializes the caching producer for the initial digest reads, and updates
comments 


New Comment: 
For the initial digest reads, it would be nice to use the CachingMessageProducer for the
local digest read too. 


New Comment: 
no Messages are created for local reads. 


New Comment: 
Oh right, my bad. Anyways, lgtm, +1. 


New Comment: 
committed 


New Comment: 
Note that on merge to trunk I also added a readCallbacks.clear() statement at the
beginning of the short-read do/while loop. 



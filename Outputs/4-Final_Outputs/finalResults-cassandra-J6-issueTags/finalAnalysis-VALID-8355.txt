Pattern changes caused by commit: e1206f3b8793b4dfa5b34815c4bf921da35e218a

From: Abstract Factory-1
To:   Abstract Factory-2

From: Factory Method-1
To:   Factory Method-2

From: Decorator-2
To:   Decorator-1

From: Facade-0
To:   Facade-1

From: Flyweight-2
To:   Flyweight-1

From: Mediator-3
To:   Mediator-1

From: Strategy-0
To:   Strategy-1


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-8355.txt 

commit e1206f3b8793b4dfa5b34815c4bf921da35e218a
Author: Brandon Williams <brandonwilliams@apache.org>

    Fix MoveTest.
    Patch by Liu Yu, reviewed by brandonwilliams for CASSANDRA-4564



==================================
 Issue CASSANDRA-4564 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-4564] MoveTest madness
-----------------

-----------------
Summary: MoveTest madness
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Tue, 21 Aug 2012 22:17:07 +0000
-----------------

-----------------
Resolved at: Fri, 4 Jan 2013 13:39:56 +0000
-----------------

-----------------
Assigned to: Liu Yu
-----------------

-----------------
Description: 

I encountered what looks like bugs in
<tt>o.a.c.service.MoveTest.newTestWriteEndpointsDuringMove()</tt> while doing something
else; Here is a (poorly researched )ticket before I forget <img class="emoticon"
src="https://issues.apache.org/jira/images/icons/emoticons/smile.png" height="16"
width="16" align="absmiddle" alt="" border="0"/>
<ul>	<li>There are two loops over
non-system tables, and the first is a NOOP</li>	<li>In the second loop, a set exactly
<tt>replicationFactor</tt> in size is compared against <tt>tmd.getWriteEndpoints()</tt>,
which should produce greater than <tt>replicationFactor</tt> endpoints during a move
(shouldn't it?); How does this pass?</li></ul> 

-----------------

-----------------
Comments: 

New Comment: 
For the second issue, the root cause is: the key token is endpointToken+5, and the
endpoint token is moved to endpointToken+2, so there is no key need to be moved. I have
changed the move token to enpointToken+7 and updated the test cases. 


New Comment: 
Thanks, Liu.  Review may proceed a bit slowly due to the US holidays, but we'll get to it
eventually! 



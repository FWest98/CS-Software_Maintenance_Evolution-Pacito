Pattern changes caused by commit: c49a1497eafc5ab5c16b03b3f97842c5ab1e64c8

From: Abstract Factory-2
To:   Abstract Factory-3

From: Factory Method-2
To:   Factory Method-3

From: Facade-0
To:   Facade-1

From: Flyweight-4
To:   Flyweight-3


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-6017.txt 

commit c49a1497eafc5ab5c16b03b3f97842c5ab1e64c8
Author: Vijay Parthasarathy <vijay2win@gmail.com>

    CASSANDRA-3867
    patch by Vijay; reviewed by Brandon Williams for CASSANDRA-3867



==================================
 Issue CASSANDRA-3867 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-3867] Disablethrift and Enablethrift can leaves behind zombie connections on THSHA server
-----------------

-----------------
Summary: Disablethrift and Enablethrift can leaves behind zombie connections on THSHA server
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Mon, 6 Feb 2012 20:43:52 +0000
-----------------

-----------------
Resolved at: Mon, 13 Feb 2012 20:43:13 +0000
-----------------

-----------------
Assigned to: Vijay
-----------------

-----------------
Description: 

While doing nodetool disable thrift we disable selecting threads and close them... but
the connections are still active...<br/>Enable thrift creates a new Selector threads
because we create new ThriftServer() which will cause the old connections to be
zombies.

I think the right fix will be to call server.interrupt(); and then close the
connections when they are done selecting.
 

-----------------

-----------------
Comments: 

New Comment: 
Simple patch to close the selector when disablethrift. 


New Comment: 
+1 



Pattern changes caused by commit: 7eb445bfc9cbec31c239209cc5ca0699a83b9ac4

From: Abstract Factory-2
To:   Abstract Factory-3

From: Factory Method-2
To:   Factory Method-3


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-3430.txt 

commit 7eb445bfc9cbec31c239209cc5ca0699a83b9ac4
Author: Jonathan Ellis <jbellis@apache.org>

    move keyspace1 sample config out of cassandra.yaml
    patch by Aaron Morton; reviewed by jbellis for CASSANDRA-2007



==================================
 Issue CASSANDRA-2007 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-2007] Move demo Keyspace1 definition from casandra.yaml to an input file for cassandra-cli
-----------------

-----------------
Summary: Move demo Keyspace1 definition from casandra.yaml to an input file for cassandra-cli
-----------------

-----------------
Issue type: Improvement
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Wed, 19 Jan 2011 09:05:52 +0000
-----------------

-----------------
Resolved at: Tue, 8 Mar 2011 18:14:03 +0000
-----------------

-----------------
Assigned to: Aaron Morton
-----------------

-----------------
Description: 

Th suggested way to make schema changes is through cassandra-cli but we do not have an
example of how to do it. Additionally, to get the demo keyspace created users have to use
a different process. 
 

-----------------

-----------------
Comments: 

New Comment: 
Attached 2007-1.patch moves the Keyspace1 definition from conf/cassandra.yaml to
conf/keyspace1.txt . I've included instructions at the top of the file about how to create
the keyspace. I've also updated the comments to reflect the slightly different property
names on the CLI, without updating the other content. The doc's in the text file and the
online CLI help have a different style / content, will try to resolve this in <a
href="https://issues.apache.org/jira/browse/CASSANDRA-2008" title="CLI help incorrect in
places" class="issue-link" data-issue-key="CASSANDRA-2008"><del>CASSANDRA-2008</del></a> 


New Comment: 
Committed, with a small comment added to cassandra.yaml pointing users at
conf/Keyspace1.txt 


New Comment: 
Reverted due to impending 0.7.1 release, we need to put more help text from cassandra.yaml
into the cli. 


New Comment: 
Integrated in Cassandra-0.7 #210 (See <a
href="https://hudson.apache.org/hudson/job/Cassandra-0.7/210/" class="external-link"
rel="nofollow">https://hudson.apache.org/hudson/job/Cassandra-0.7/210/</a>)<br/>    Move
demo Keyspace1 definition from casandra.yaml to an input file
for<br/>cassandra-cli.<br/>Patch by Aaron Morton, reviewed by brandonwilliams for <a
href="https://issues.apache.org/jira/browse/CASSANDRA-2007" title="Move demo Keyspace1
definition from casandra.yaml to an input file for cassandra-cli" class="issue-link"
data-issue-key="CASSANDRA-2007"><del>CASSANDRA-2007</del></a> 


New Comment: 
will wait for 0.7.1 and try to do this and <a
href="https://issues.apache.org/jira/browse/CASSANDRA-2008" title="CLI help incorrect in
places" class="issue-link" data-issue-key="CASSANDRA-2008"><del>CASSANDRA-2008</del></a>
together 


New Comment: 
2007-2.patch is a rebased version against the trunk @ 8fa4253. The schema includes the
counter examples. All help has been removed from the example schema as help has been added
to the cli in <a href="https://issues.apache.org/jira/browse/CASSANDRA-2008" title="CLI
help incorrect in places" class="issue-link"
data-issue-key="CASSANDRA-2008"><del>CASSANDRA-2008</del></a>. There are also changes to
handle keyspaces: not been present in the yaml when loadSchemaFromYaml is called. The
patch is intended for v0.8 as it is not a bug fix. Let me know if we would also like it
against 0.7. 


New Comment: 
see previous comment, added 2007-2.patch 


New Comment: 
started trying to remove yaml altogether but forgot it's used extensively for test setup
<img class="emoticon" src="https://issues.apache.org/jira/images/icons/emoticons/sad.png"
height="16" width="16" align="absmiddle" alt="" border="0"/> 


New Comment: 
committed v2 


New Comment: 
also backported to 0.7 


New Comment: 
Integrated in Cassandra #759 (See <a
href="https://hudson.apache.org/hudson/job/Cassandra/759/" class="external-link"
rel="nofollow">https://hudson.apache.org/hudson/job/Cassandra/759/</a>)<br/>    move
keyspace1 sample config out of cassandra.yaml<br/>patch by Aaron Morton; reviewed by
jbellis for <a href="https://issues.apache.org/jira/browse/CASSANDRA-2007" title="Move
demo Keyspace1 definition from casandra.yaml to an input file for cassandra-cli"
class="issue-link" data-issue-key="CASSANDRA-2007"><del>CASSANDRA-2007</del></a> 


New Comment: 
In my binary download for 0.7.4, the sample file/script name appears to be
schema-sample.txt, not Keyspace1.txtRunning the example command in schema-sample.txt
(bin/cassandra-cli -host localhost --file conf/Keyspace1.txt) results in a "No such file
or directory" error in my test environment. Substituting the file name "schema-sample.txt"
tells me, correctly, that the keyspace already exists in my test cluster.This is trivial,
but it could cause some confusion for newbies trying to set up and check out the example
keyspace. 



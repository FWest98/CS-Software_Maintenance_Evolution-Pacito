Pattern changes caused by commit: 8daa5d2df72c40e75efeaa32dba83e0cb49a8034

From: Abstract Factory-2
To:   Abstract Factory-1

From: Factory Method-2
To:   Factory Method-1

From: Decorator-1
To:   Decorator-2

From: Facade-1
To:   Facade-0

From: Flyweight-1
To:   Flyweight-2

From: Mediator-1
To:   Mediator-3

From: Strategy-1
To:   Strategy-0


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-8816.txt 

commit 8daa5d2df72c40e75efeaa32dba83e0cb49a8034
Author: Jonathan Ellis <jbellis@apache.org>

    log warnings about java versions that you probably shouldn't be running
    patch by Joaquin Casares; reviewed by jbellis for CASSANDRA-4570



==================================
 Issue CASSANDRA-4570 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-4570] Minor logging additions
-----------------

-----------------
Summary: Minor logging additions
-----------------

-----------------
Issue type: Improvement
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Thu, 23 Aug 2012 01:37:58 +0000
-----------------

-----------------
Resolved at: Thu, 7 Mar 2013 21:12:48 +0000
-----------------

-----------------
Assigned to: Joaquin Casares
-----------------

-----------------
Description: 

Four patches to clear up/add information to logging.

1. check_tables<br/>Moves a portion
of the code that checks for data files to right before the system tables are created.

2.
info_paths<br/>Adds path printing statements for the cassandra.yaml, data_dir, and
commit_log locations.

3. jvm_warnings<br/>Warn the user if they are on OpenJDK.<br/>Warn
the user if they are using a minor version &lt; 29.<br/>Error if they are using a minor
version &lt; 25.

4. mt_compaction<br/>Log that the user is performing compactions with
multi-threaded compactions enabled.
 

-----------------

-----------------
Comments: 

New Comment: 
<blockquote>jvm_warnings</blockquote>ambivalent about this.  both openjdk and version
checks should be jdk6-specific.  anyone wants to be brave and run java7, let's let them go
ahead and test it for us.what is magic about versions 25 and 29?  should comment
that.<blockquote>mt_compaction</blockquote>why not just log this at startup the way we do
some other settings?<blockquote>info_paths</blockquote>why is this logged in
storageservice instead of databasedescriptor?<blockquote>check_tables</blockquote>Moving
this is incorrect; your new location will log "Found table data in data directories.
Consider using the CLI to define your schema" even when schema is present.  The idea is we
only log that when neither old nor new style schema definitions are present, but there are
still data files present somehow. 


New Comment: 
jvm_warnings_v2:Now only checks the 1.6.0 releases. Updated the minor revision numbers to
be in line with what we're currently seeing.mt_compaction_v2:Moved this to
DatabaseDescriptor where it should be.info_paths_v2:Now displaying this shortly after the
yaml path is printed.check_tables (original):Nope, this only logs once. The issue before
was that it was always logging "Found table data in data directories. Consider using the
CQL shell to define your schema."With the patch: <a
href="http://aep.appspot.com/display/xITUgvlTOPjfmCnL_ns6tkXhZ1s/" class="external-link"
rel="nofollow">http://aep.appspot.com/display/xITUgvlTOPjfmCnL_ns6tkXhZ1s/</a><br/>Without:
<a href="http://aep.appspot.com/display/6ffn0ucc0pCEHS53p6nX9J0sgnM/"
class="external-link"
rel="nofollow">http://aep.appspot.com/display/6ffn0ucc0pCEHS53p6nX9J0sgnM/</a>Probably due
to: Schema.instance.addSystemTable(systemMeta);<br/>being run before loadSchemas(). 



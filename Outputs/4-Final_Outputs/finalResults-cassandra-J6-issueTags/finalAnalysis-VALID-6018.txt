Pattern changes caused by commit: 2a5547981dad7e59be2c26aeb52f5d49d2195b9c

From: Abstract Factory-3
To:   Abstract Factory-2

From: Factory Method-3
To:   Factory Method-2

From: Facade-1
To:   Facade-0

From: Flyweight-3
To:   Flyweight-4


=========================
       NEW GIT LOG
=========================

This commit refers to file: VALID-6018.txt 

commit 2a5547981dad7e59be2c26aeb52f5d49d2195b9c
Author: Vijay Parthasarathy <vijay2win@gmail.com>

    CASSANDRA-3867
    patch by Vijay; reviewed by Brandon Williams for CASSANDRA-3867



==================================
 Issue CASSANDRA-3867 Description 
=======================================

Project: Cassandra
-----------------

-----------------
Title: [CASSANDRA-3867] Disablethrift and Enablethrift can leaves behind zombie connections on THSHA server
-----------------

-----------------
Summary: Disablethrift and Enablethrift can leaves behind zombie connections on THSHA server
-----------------

-----------------
Issue type: Bug
-----------------

-----------------
Current status: Resolved
-----------------

-----------------
Created at: Mon, 6 Feb 2012 20:43:52 +0000
-----------------

-----------------
Resolved at: Mon, 13 Feb 2012 20:43:13 +0000
-----------------

-----------------
Assigned to: Vijay
-----------------

-----------------
Description: 

While doing nodetool disable thrift we disable selecting threads and close them... but
the connections are still active...<br/>Enable thrift creates a new Selector threads
because we create new ThriftServer() which will cause the old connections to be
zombies.

I think the right fix will be to call server.interrupt(); and then close the
connections when they are done selecting.
 

-----------------

-----------------
Comments: 

New Comment: 
Simple patch to close the selector when disablethrift. 


New Comment: 
+1 


